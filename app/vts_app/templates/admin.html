{% extends 'base.html' %}

{% block a %}
<form method="POST" action="">
    {{ form.hidden_tag() }}
    <div class="block p-6 rounded-lg bg-white max-w-sm m-auto">

        <div class='text-2xl mb-10 text-center'>
            Admin page
        </div>

        <div class="form-group mb-6">
            {{ form.password.label(class="form-label inline-block mb-2 text-gray-700") }}

            {% if form.password.errors %}
            <div class="form-group mb-6">
                {{ form.password(class=input_error) }}

                {% for error in form.password.errors %}
                <ul class="errorlist">
                    <li class='text-red-600 text-sm'>{{ error }}</li>
                </ul>
                {% endfor %}

                {% else %}
                {{ form.password(class=input_ok) }}
                {% endif %}
            </div>

            <div class="form-group mb-6">
                {{ form.ID.label(class="form-label inline-block mb-2 text-gray-700") }}

                {% if form.ID.errors %}
                <div class="form-group mb-6">
                    {{ form.ID(class=input_error) }}

                    {% for error in form.ID.errors %}
                    <ul class="errorlist">
                        <li class='text-red-600 text-sm'>{{ error }}</li>
                    </ul>
                    {% endfor %}

                    {% else %}
                    {{ form.ID(class=input_ok) }}
                    {% endif %}
                </div>

                <div class="form-group mb-6">
                    {{ form.permission.label(class="form-label inline-block mb-2 text-gray-700", value=0) }}

                    {% if form.permission.errors %}
                    <div class="form-group mb-6">
                        {{ form.permission(class=error_main) }}

                        {% for error in form.permission.errors %}
                        <ul class="errorlist">
                            <li class='text-red-600 text-sm'>{{ error }}</li>
                        </ul>
                        {% endfor %}

                        {% else %}
                        {{ form.permission(class=input_main, value=0) }}
                        {% endif %}
                    </div>

                    <div>
                        {{ form.submit(class=submit) }}
                    </div>

                </div>
    </div>
</form>
{% endblock a %}

{% block b %}
<table class="table-auto my-10 m-auto">
    <tr>
        <th class='text-center px-10 py-4 border-b-2 border-black-700'>ID</th>
        <th class='text-center px-10 py-4 border-b-2 border-black-700'>REGISTRATION TIME</th>
        <th class='text-center px-10 py-4 border-b-2 border-black-700'>EMAIL</th>
        <th class='text-center px-10 py-4 border-b-2 border-black-700'>PERMISSION</th>
        <th class='text-center px-10 py-4 border-b-2 border-black-700'>PHONE NUMBER</th>
        <th class='text-center px-10 py-4 border-b-2 border-black-700'>CALLS</th>
        <th class='text-center px-10 py-4 border-b-2 border-black-700'>CALLS</th>
        <th class='text-center px-10 py-4 border-b-2 border-black-700'>CALLS</th>
    </tr>
    {% for user in users.active %}
    <tr>
        <td class='text-center px-10 py-4 border-b-2 border-black-700'>{{ user.id }}</td>
        <td class='text-center px-10 py-4 border-b-2 border-black-700'>{{ user.registration }}</td>
        <td class='text-center px-10 py-4 border-b-2 border-black-700'>{{ user.email }}</td>
        <td class='text-center px-10 py-4 border-b-2 border-black-700'>{{ user.permission }}</td>
        <td class='text-center px-10 py-4 border-b-2 border-black-700'>{{ user.phone }}</td>
        <td class='text-center px-10 py-4 border-b-2 border-black-700'>{{ user.calls }}</td>
        <th class='text-center px-10 py-4 border-b-2 border-black-700'>CALLS</th>
        <th class='text-center px-10 py-4 border-b-2 border-black-700'>CALLS</th>
    </tr>
    {% endfor %}
</table>
{% endblock b %}


